/**
 * Plasma Slider
 * Company: Aazz Tech
 * Develoepr: Syed Galib Ahmed
 * Version: 1.0
 * Initial Release: 1 February, 2020
 * */

!function(){function t(t,i){if(!i)return t;if(i&&"object"!=typeof i)return defaults;var a;for(a in i)t.hasOwnProperty(a)&&(t[a]=i[a]);return t}function i(t){var i=!1;if("string"==typeof t){var a=t.match(/[^\d]/)?null:parseInt(t);t=(i=!!(a&&a>0))?a:t}return"number"==typeof t&&(i=!!(t=!(t<1)&&t)),!!i&&t}function a(t){var i=null;if(t)switch(t){case"0":case"false":i=!1;break;case"1":case"true":i=!0}return i}function e(t,i,a){t=void 0===t?"":t,i=void 0===i?"div":i,a=void 0===a?"":a;var e=document.createElement(i);return n(e,t),e.innerHTML=a,e}function n(t,i){"object"==typeof t&&"className"in t&&(-1==t.className.split(" ").indexOf(i)&&(t.className+=" "+i,t.className=t.className.trim()))}function r(t,i){if(t){var a=new RegExp(i,"g");t.className=t.className.replace(a,""),t.className=t.className.trim()}}function s(t){if(!t)return null;if(!("parentElement"in t&&t.parentElement))return null;var i=t.parentElement.children;return[].slice.call(i).indexOf(t)}function l(t,i){for(var a=0;a<t.length;a++)i(t[a],a)}this.PlasmaSlider=function(o){this.options={containerID:null,width:16,height:9,images:[],backgroundSize:"cover",blurBackground:!0,backgroundColor:"gainsboro",thumbnailBackgroundColor:"#fff",showThumbnails:!0,rtl:!1},this.container=null,this.extendDefaults=function(){this.options=t(this.options,o)},this.init=function(){this.extendDefaults();var t=this.options.containerID,i=document.getElementById(t);i&&(this.container=i,function(t,i){if(!t)return;var a=new RegExp(i,"g");return t.className.match(a)}(this.container,"is-initialized")||(n(this.container,"is-initialized"),this.getMarkupOptions(),this.prepareDOM(),this.attachEvents()))},this.getMarkupOptions=function(){if(this.container){var t=this.container.getAttribute("data-width");t&&i(t)&&(this.options.width=i(t));var e=this.container.getAttribute("data-height");e&&i(e)&&(this.options.height=i(e));var n=this.container.getAttribute("data-show-thumbnails");n&&null!==a(n)&&(this.options.showThumbnails=a(n));var r=this.container.getAttribute("data-rtl");r&&null!==a(r)&&(this.options.rtl=a(r));var s=this.container.getAttribute("data-background-size");s&&(this.options.backgroundSize=s);var o=this.container.getAttribute("data-blur-background");o&&null!==a(o)&&(this.options.blurBackground=a(o));var c=this.container.getAttribute("data-background-color");c&&(this.options.backgroundColor=c);var h=this.container.getAttribute("data-thumbnail-background-color");h&&(this.options.thumbnailBackgroundColor=h);var u=this.container.querySelectorAll(".plasmaSliderImageItem");if(u&&u.length){var d=[];l(u,function(t){var i=t.getAttribute("data-src"),a=t.getAttribute("data-alt"),e={};i&&(e.src=i||"",e.alt=a||"",d.push(e))}),d.length&&(this.options.images=d)}}},this.prepareDOM=function(){if(this.container){this.container.innerHTML="",n(this.container,"plasmaSlider");var i,a,r,s,o=e("plasmaSlider__body"),c=this.options.width,h=this.options.height/c*100;if(o.setAttribute("style","padding-top: "+h+"%"),this.options.images.length>1){var u=(r=e("plasmaSlider__controlRight"),(s=e("plasmaSlider__arrowBtn arrowBtn--right","button",'<span class="plasmaSliderIcon psi-angle-right"></span><span class="plasmaSliderSkin"></span>')).setAttribute("type","button"),s.setAttribute("data-direction","right"),r.appendChild(s),r);o.appendChild(u);var d=(i=e("plasmaSlider__controlLeft"),(a=e("plasmaSlider__arrowBtn arrowBtn--left","button",'<span class="plasmaSliderIcon psi-angle-left"></span><span class="plasmaSliderSkin"></span>')).setAttribute("type","button"),a.setAttribute("data-direction","left"),i.appendChild(a),i);o.appendChild(d)}var p=function(i){var a=e("plasmaSlider__contents"),n=e("plasmaSlider__contentsWrap");if(Array.isArray(i.options.images)&&i.options.images.length){var r=100*i.options.images.length,s="width: "+r+"%;",o=s;n.setAttribute("style",o);var c=i.options.images;l(c,function(a,r){var s=0===r,l=function(i,a){var n={src:"",alt:"",active:!1},r=e("plasmaSlider__sliderItem"+((n=t(n,i)).active?" active":"")),s=a.options.backgroundSize,l=e("plasmaSlider__bg"),o=a.options.backgroundColor;if(l.setAttribute("style","background-color: "+o+";"),"contain"===a.options.backgroundSize&&a.options.blurBackground){var c=e("plasmaSlider__bgImgBlur","img");c.src=n.src,l.appendChild(c)}var h=e("plasmaSlider__bgImg plasmaSlider__"+s,"img");return h.src=n.src,h.alt=n.alt,l.appendChild(h),r.appendChild(l),r}({src:"src"in a?a.src:"",alt:"alt"in a?a.alt:"",active:s},i);n.appendChild(l)})}return a.appendChild(n),a}(this);if(o.appendChild(p),this.container.appendChild(o),this.options.showThumbnails&&this.options.images.length>1){var m=function(t){var i=e("plasmaSlider__footer");if(!Array.isArray(t.options.images))return i;var a=e("plasmaSlider__thumbnailList");if(t.options.thumbnailBackgroundColor.length){var n="background-color: "+t.options.thumbnailBackgroundColor;a.setAttribute("style",n)}return l(t.options.images,function(t,i){var n=e(0===i?"plasmaSlider__thumbnailListItem active":"plasmaSlider__thumbnailListItem"),r=e("plasmaSlider__thumbnailListItemImg","img");r.src="src"in t?t.src:"",r.alt="alt"in t?t.alt:"Thumbnail Image",n.appendChild(r),a.appendChild(n)}),i.appendChild(a),i}(this);this.container.appendChild(m)}}},this.attachEvents=function(){if(this.container){var t=this,i=this.container.querySelectorAll(".plasmaSlider__arrowBtn");if(i&&i.length&&l(i,function(i){i.addEventListener("click",function(i){var a="plasmaSliderSkin"===i.target.className?i.target.parentElement:i.target;t.handleArrowEvent(a)})}),this.options.showThumbnails){var a=this.container.querySelectorAll(".plasmaSlider__thumbnailListItem");a&&a.length&&l(a,function(i){i.addEventListener("click",function(i){t.handleThumbnailEvent(i.target.parentElement)})})}}},this.handleArrowEvent=function(t){var i=t.getAttribute("data-direction"),a=s(this.container.querySelectorAll(".plasmaSlider__contentsWrap .plasmaSlider__sliderItem.active")[0]);if(!(null===a||a<0)){var e="right"===i?a+1:a-1;this.options.rtl&&(e="right"===i?a-1:a+1),this.changeSlideTo(e)}},this.handleThumbnailEvent=function(t){var i=s(t);this.changeSlideTo(i)},this.changeSlideTo=function(t){var i=this.options.images.length-1,a="width: "+100*(i+1)+"%;",e=0===(t=(t=t<0?i:t)>i?0:t)?"left: ":"left: -";this.options.rtl&&(e=0===t?"right: ":"right: -");var s=a+e+100*t+"%;",l=this.container.querySelectorAll(".plasmaSlider__contentsWrap");l[0].setAttribute("style",s),r(this.container.querySelectorAll(".plasmaSlider__contentsWrap .plasmaSlider__sliderItem.active")[0],"active"),n(l[0].children.item(t),"active"),this.updateNavigation(t)},this.updateNavigation=function(t){if(this.options.showThumbnails){var i=this.container.querySelectorAll(".plasmaSlider__thumbnailList .plasmaSlider__thumbnailListItem");if(i&&i.length){l(i,function(i,a){r(i,"active"),a===t&&n(i,"active")});var a=i[0].parentElement,e=a.clientWidth,s=a.scrollLeftMax,o=i[t].offsetLeft,c=o+i[t].offsetWidth;o=(o=o>s?s:o)<0?0:o;var h=a.scrollLeft;(o<h||c>h+e)&&(a.scrollLeft=o)}}}}}();